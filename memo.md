## 第2章

- 本書で話したい「Linux世界」とは、カーネルが作り出す世界のこと
- `/boot`以下などにあるvmlinuz、vmlinux、vmlinux-X.X.Xといった名前のファイルが、Linuxカーネルのプログラム本体である

- システムコール
  - ハードウェアと直接やりとりができるのはカーネルだけ（つまりデバイスドライバだけ）に限定されている
  - カーネルに仕事を頼むにはシステムコールと呼ばれる仕組みを使う。システムコールの「システム」はカーネルのことで、システムを呼び出すからシステムコールと呼ばれる。
  - システムコールの例 : `open`, `read`, `write`, `fork`, `exec`, `stat`, `unlink`
  - システムコールだからといって特別な呼び出し方をするわけじゃない。プログラムにすると、見た目はごく普通の関数呼び出しにしか見えない。

- ライブラリ関数
  - 我々がプログラミングをする上で、システムコール以外にも使える関数がある。それがライブラリ関数である。
  - ライブラリ関数の例 : `printf`, `exit`, `strlen`
  - ライブラリ関数は内部でシステムコールを使って実装されていることもあれば、ライブラリ関数だけで完結している場合もある。
  - システムコールとライブラリ関数の区別は曖昧になってきている。システムコールとライブラリ関数の違いが実際に役立つのはmanページを参照するとき。「2」はシステムコールで、「3」はライブラリ関数

- libc
  - 標準Cライブラリ。Linuxに用意されているライブラリの中でも特に重要なライブラリ。
  - `/lib`、`/lib64`以下などに`libc.so.6`というファイルがあり、これがlibcの中核となるファイル
  
  
## 第3章

- xx

## 第5章

- ストリームに関わるシステムコール
  - `read` : ストリームからバイト列を読み込む
    - `ssize_t read(int fd, void *buf, size_t bufsize)`
  - `write` : ストリームにバイト列を書き込む
    - `ssize_t write(int fd, const void *buf, size_t bufsize)`
  - `open` : ストリームを作る
    - `int open(const char *path, int flags)`
    - `int open(const char *path, int flags, mode_t mode)`
  - `close` : 用済みのストリームを始末する
    - `int close(int fd)`
  
- ファイルディスクリプタ
  - プログラムからストリームを扱うにはファイルディスクリプタを使う
  - カーネルから見るとただの整数値
  - ストリームをプロセスに直接見せることはできない。そこで、カーネルが持っているストリームを番号と対応付け、プロセスには番号でストリームを指定させる
  - 標準入力（`STDIN_FILENO`）は0番、標準出力（`STDOUT_FILENO`）は1番、標準エラー出力（`STDERR_FILENO`）は2番に対応する
  
- ストリームの定義：ファイルディスクリプタで表現され、`read()`または`write()`で操作できるもののこと

## 第6章

- システムコールは不便なところが多い。バイト単位でしか読み書きできないなど
- システムコール呼び出しは関数呼び出しよりもずっと遅い
- stdio : 標準入出力ライブラリ。libcの中でも大部分を占める重要なライブラリ。
- FILE型
  - システムコールレベルでは、ストリームを指すためにファイルディスクリプタ（整数値）を使っていた
  - 一方、stdioでは同じような役割のためにFILEという型へのポインタを使う
  - FILEは、ファイルという名前ではあるが、本書で言うストリームを表現するために使われる型である
- stdioでの標準入出力
  - 標準入力 : `stdin`
  - 標準出力 : `stdout`
  - 標準エラー出力 : `stderr`
- stdioを利用したcatコマンドの実装
  - `fopen`
  - `fclose`
  - `fgetc`
  - `putchar`
